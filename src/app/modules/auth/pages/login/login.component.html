<main>
  <p-toast position="top-center" key="tc"></p-toast>
  <div class="main">
    <input type="checkbox" id="chk" aria-hidden="true">

    <div class="signup" *ngIf="!token">
      <form>
        <label for="chk" aria-hidden="true">Indentifiez-vous</label>
        <input type="text" name="txt" placeholder="Username" [(ngModel)]="username" required="">
        <input type="password" name="pswd" placeholder="Password" [(ngModel)]="password" required="">
        <button (click)="login()">Se connecter</button>
      </form>
      <p class="error" *ngIf="!checkToken === false">Username ou mot de passe invalide</p>
    </div>

    <div class="login" *ngIf="!token">
      <form>
        <label for="chk" aria-hidden="true">S'inscrire</label>
        <input type="text" name="txt" placeholder="Username" [(ngModel)]="user.username" required="">
        <input type="email" name="email" placeholder="Email" [(ngModel)]="user.email" required="">
        <input type="password" name="pswd" placeholder="Password" [(ngModel)]="user.password" required="">
        <button (click)="registerUser()">Enregistrer</button>
      </form>
    </div>

    <div class="logout" *ngIf="token">
      <form>
        <label aria-hidden="true">User connecté</label>
        <button (click)="changePassword()">Change mot de passe</button>
        <button class="deco" (click)="logout()">Déconnecter</button>
        <br>
        <br>
        <button class="cancel-btn" (click)="navigateHome()">Retour</button>
      </form>
    </div>

  </div>
</main>